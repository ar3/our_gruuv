.container.mt-4
  .row.justify-content-center
    .col-lg-8
      .card
        .card-header.bg-primary.text-white
          %h3.mb-0
            %i.bi.bi-person-badge.me-2
            #{@person.full_name}
        
        .card-body
          / Basic Information
          .row.mb-4
            .col-md-6
              %h5.text-muted Basic Information
              %p
                %strong Name:
                = @person.full_name
              - if @person.timezone.present?
                %p
                  %strong Timezone:
                  = @person.timezone
          
          / Organizational Affiliations
          .row.mb-4
            .col-12
              %h5.text-muted Organizational Affiliations
              - if @employment_tenures.any?
                .table-responsive
                  %table.table.table-hover
                    %thead
                      %tr
                        %th Organization
                        %th Status
                        %th Start Date
                    %tbody
                      - @employment_tenures.each do |tenure|
                        %tr
                          %td= tenure.organization.name
                          %td
                            - if tenure.ended_at.nil?
                              %span.badge.bg-success Active Employee
                            - else
                              %span.badge.bg-secondary Former Employee
                          %td= tenure.started_at.strftime("%B %Y")
              - else
                %p.text-muted No organizational affiliations found.
          
          / Placeholder for Future Features
          .row.mb-4
            .col-12
              %h5.text-muted Professional Achievements
              .alert.alert-info
                %i.bi.bi-info-circle.me-2
                %strong Coming Soon:
                This profile will include huddle participation stats, observations, and milestone achievements that you can carry with you across all organizations using OurGruuv.
          
          / View Options
          .row
            .col-12
              %hr
              .d-flex.justify-content-between.align-items-center
                %small.text-muted
                  %i.bi.bi-eye.me-1
                  Public Profile View
                - if current_person
                  .btn-group.btn-group-sm
                    - if policy(@person).teammate?
                      = link_to teammate_person_path(@person), class: 'btn btn-outline-primary btn-sm' do
                        %i.bi.bi-people.me-1
                        Teammate View
                    - else
                      %button.btn.btn-outline-secondary.btn-sm{disabled: true, title: 'You must be an active employee in the same organization to view the teammate version'}
                        %i.bi.bi-people.me-1
                        Teammate View
                    
                    - if policy(@person).manager?
                      = link_to manager_person_path(@person), class: 'btn btn-outline-warning.btn-sm' do
                        %i.bi.bi-gear.me-1
                        Manager View
                    - else
                      %button.btn.btn-outline-secondary.btn-sm{disabled: true, title: 'You need employment management permissions or to be in the managerial hierarchy to view the manager version'}
                        %i.bi.bi-gear.me-1
                        Manager View
