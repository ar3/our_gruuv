-# Assignment Check-Ins Table View with Interactive Forms
- if assignment_check_ins&.any?
  - if assignment_check_ins.any?(&:officially_completed?)
    = render 'assignment_check_ins_table_completed', check_ins: assignment_check_ins
  - elsif assignment_check_ins.any?(&:ready_for_finalization?)
    = render 'assignment_check_ins_table_ready_for_finalization', check_ins: assignment_check_ins, form: form, view_mode: view_mode
  - elsif view_mode == :manager && assignment_check_ins.any?(&:manager_completed?)
    = render 'assignment_check_ins_table_manager_completed', check_ins: assignment_check_ins, form: form
  - elsif view_mode == :employee && assignment_check_ins.any?(&:employee_completed?)
    = render 'assignment_check_ins_table_employee_completed', check_ins: assignment_check_ins, form: form
  - else
    .table-responsive
      %table.table.table-striped
        %thead
          %tr
            %th Assignment
            - if view_mode == :employee || view_mode.nil?
              %th Employee Rating
              %th Energy %
              %th Alignment
              %th Employee Notes
            - if view_mode == :manager || view_mode.nil?
              %th Manager Rating
              %th Manager Notes
            %th Status
        %tbody
          - assignment_check_ins.each do |check_in|
            = form.fields_for :assignment_check_ins, check_in, index: check_in.id do |af|
              %tr
                %td= check_in.assignment.title
                - if view_mode == :employee || view_mode.nil?
                  %td
                    = render 'organizations/check_ins/form_fields/assignment_employee_rating_field', form: af, check_in: check_in, css_class: 'form-control form-control-sm'
                  %td
                    = render 'organizations/check_ins/form_fields/assignment_actual_energy_percentage_field', form: af, check_in: check_in, css_class: 'form-control form-control-sm'
                  %td
                    = render 'organizations/check_ins/form_fields/assignment_employee_personal_alignment_field', form: af, check_in: check_in, css_class: 'form-control form-control-sm'
                  %td
                    = render 'organizations/check_ins/form_fields/assignment_employee_private_notes_field', form: af, check_in: check_in, css_class: 'form-control form-control-sm'
                - if view_mode == :manager || view_mode.nil?
                  %td
                    = render 'organizations/check_ins/form_fields/assignment_manager_rating_field', form: af, check_in: check_in, css_class: 'form-control form-control-sm'
                  %td
                    = render 'organizations/check_ins/form_fields/assignment_manager_private_notes_field', form: af, check_in: check_in, css_class: 'form-control form-control-sm'
                %td
                  = render 'organizations/check_ins/form_fields/assignment_id_field', form: af, check_in: check_in
                  = render 'organizations/check_ins/form_fields/assignment_status_field', form: af, check_in: check_in
- else
  .alert.alert-info
    %i.bi.bi-info-circle.me-2
    No assignments available to do a check-in on
