-# Position Check-Ins Table View - Employee Show Complete Summary
.table-responsive
  %table.table.table-striped
    %thead
      %tr
        %th Position
        %th Employee Rating
        %th Employee Notes
        %th Manager Status
        %th Status
    %tbody
      %tr
        %td= check_in.employment_tenure.position.display_name
        %td
          = position_rating_display(check_in.employee_rating)
        %td
          = simple_format(check_in.employee_private_notes)
        %td
          - other_mode = check_in.other_participant_display_mode(:employee)
          - partial_name = "position_check_ins_table_employee_#{other_mode}"
          = render partial_name, check_in: check_in
        %td
          = form.fields_for :position_check_in do |pf|
            -# Hidden fields to preserve existing values when form is submitted
            = pf.hidden_field :employee_rating, value: check_in.employee_rating
            = pf.hidden_field :employee_private_notes, value: check_in.employee_private_notes
            
            .form-check
              = pf.radio_button :status, 'complete', checked: true
              = pf.label :status_complete, 'Ready for Manager', class: 'form-check-label'
            .form-check
              = pf.radio_button :status, 'draft'
              = pf.label :status_draft, 'Make Changes', class: 'form-check-label'

.small.text-muted.mt-1
  Select "Make Changes" to edit your assessment and notes
