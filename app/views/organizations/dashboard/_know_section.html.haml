/ KNOW Section
.row.mb-4
  .col-12
    .d-flex.align-items-center.mb-3
      %h3.text-primary.mb-0.me-3
        %i.bi.bi-compass.me-2
        KNOW
      .flex-grow-1
        %hr.border-primary
      %small.text-muted.ms-3 Clarify expectations

/ KNOW Pillar Boxes
.row.mt-4
  / Milestones Card
  - milestones_header_html = capture do
    %i.bi.bi-award.me-2
    Milestones
  - milestones_primary_html = capture do
    %i.bi.bi-trophy.me-2
    #{pluralize(organization.recent_milestones_count, 'Recent Milestone')} to Celebrate
  - milestones_secondary_html = capture do
    %i.bi.bi-list.me-1
    All #{pluralize(organization.abilities_count, 'Ability')}
  - milestones_tertiary_html = capture do
    %i.bi.bi-person.me-1
    My #{pluralize(organization.teammate_milestones_for_person(current_person).count, 'Milestone')}
  
  = render 'organizations/dashboard/dashboard_card',
    header_html: milestones_header_html,
    header_popover_content: "Milestones create a clear map for professional growth by setting clear expectations and recognizing progress along the way. Rather than generic praise, milestones celebrate concrete progress toward defined skills, knowledge, and behaviors. This targeted recognition motivates continued development while building a portfolio of valuable credentials. Not only is the valuable for clarity, since each milestone represents a concrete achievement that builds toward larger career goals – the certification-style value of milestones ensures that growth is both celebrated and benefits careers beyond the current seat.",
    header_popover_title: "About Milestones",
    description: "Clarify expectations, celebrate achievements, build credentials",
    primary_action_url: celebrate_milestones_organization_path(organization),
    primary_action_html: milestones_primary_html,
    primary_action_style: 'not_urgent',
    secondary_action_url: organization_abilities_path(organization),
    secondary_action_html: milestones_secondary_html,
    tertiary_action_url: complete_picture_organization_person_path(organization, current_person) + '#milestones',
    tertiary_action_html: milestones_tertiary_html

  / Assignments Card
  - assignments_header_html = capture do
    %i.bi.bi-check-circle.me-2
    Assignments
  - assignments_primary_html = capture do
    %i.bi.bi-check-circle.me-2
    Check-in on my #{pluralize(current_person.active_assignments(organization).count, 'Assignment')}
  - assignments_secondary_html = capture do
    %i.bi.bi-list.me-1
    All #{pluralize(organization.all_assignments_including_descendants.count, 'Assignment')}
  - assignments_tertiary_html = capture do
    %i.bi.bi-eye.me-1
    My #{pluralize(current_person.assignments_ready_for_finalization_count(organization), 'Review-Ready Assignment')} 
  - assignments_popover_content = capture do
    Assignments break traditional job descriptions into specific mini-jobs that represent the specific outcomes we can truly rely on each other to deliver. 
    %hr.mt-1.mb-1/
    %strong Job Architecture
    %p Think of assignments as the architectural blueprint of a seat - breaking down the big picture into specific, buildable components that can be rearranged as needed.
    %br/
    %strong Recipes
    %p Assignments are ingredients in a role recipe - you can adjust the portions, swap ingredients, or add new ones to create the perfect dish for your team's needs.
    %hr.mt-2.mb-2/
    %br.mt-1/
    Unlike broad job descriptions, assignments provide clear, measurable expectations that can be tracked and improved over time. This clarity transforms accountability from vague concepts into concrete, actionable responsibilities.
    %br.mt-1/
    When employees "wear many hats," assignments help identify exactly which hats they're wearing and how well they're wearing each one. 
    %br.mt-1/
    This specificity transforms vague job descriptions into precise, measurable expectations that evolve with changing needs.
    

  = render 'organizations/dashboard/dashboard_card',
    header_html: assignments_header_html,
    header_popover_content: assignments_popover_content,
    header_popover_title: "About Assignments",
    description: ['Flexible assignments, focused feedback, better results', 'Replace job confusion with assignment clarity', 'Accountability that\'s clear and works'].sample,
    primary_action_url: organization_assignment_tenure_path(organization, current_person),
    primary_action_html: assignments_primary_html,
    primary_action_style: 'urgent',
    secondary_action_url: organization_assignments_path(organization),
    secondary_action_html: assignments_secondary_html,
    tertiary_action_url: organization_person_check_ins_path(organization, current_person),
    tertiary_action_html: assignments_tertiary_html

  / Positions Card
  - positions_header_html = capture do
    %i.bi.bi-briefcase.me-2
    Positions
  - positions_primary_html = capture do
    %i.bi.bi-eye.me-2
    = current_person.employment_status_text_for(organization)
  - positions_secondary_html = capture do
    %i.bi.bi-list.me-1
    All #{pluralize(organization.position_types_count, 'Titles')}
  - positions_tertiary_html = capture do
    %i.bi.bi-people.me-1
    All #{pluralize(organization.seats_count, 'Seat')}
  - positions_popover_content = capture do
    With positions, promotions and title/compensation-based growth are no longer based on chance or favoritism.
    %hr.mt-1.mb-1/
    Positions are where structure and individuality meet. They ensure fairness while also being flexible—like a scaffold for both specialists and generalists to build on.
    %hr.mt-1.mb-1/
    Think of positions like the baseplate for Legos in that they give you a strong framework to build on. They set out the essential Assignments required for fairness and consistency. However, they also leave space for "your bricks"—the unique Assignments, strengths, and passions you bring. The result is structure without sameness, fairness without flattening individuality.
  
  = render 'organizations/dashboard/dashboard_card',
    header_html: positions_header_html,
    header_popover_content: positions_popover_content,
    header_popover_title: "About Positions",
    description: ['Framework for fairness, freedom for growth', 'Structure for consistency, space for strengths, fairness for all', 'Ensure equity, provide structure, allow uniqueness'].sample,
    primary_action_url: complete_picture_organization_person_path(organization, current_person),
    primary_action_html: positions_primary_html,
    primary_action_style: 'not_urgent',
    secondary_action_url: organization_positions_path(organization),
    secondary_action_html: positions_secondary_html,
    tertiary_action_url: organization_seats_path(organization),
    tertiary_action_html: positions_tertiary_html
