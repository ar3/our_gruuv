= form.text_area :manager_private_notes,
                 rows: 2,
                 class: css_class || 'form-control form-control-sm',
                 placeholder: 'Manager notes...'

.mt-2
  - since_date = check_in.previous_finalized_check_in&.official_check_in_completed_at || 1.year.ago
  - teammate = @person.teammates.find_by(organization: @organization)
  - if teammate
    - observations = visible_observations_for_person(current_person, @organization)
    - observations = observations.joins(:observed_teammates).where(teammates: { id: teammate.id })
    - observations = observations.joins(:observation_ratings).where(observation_ratings: { rateable_type: 'Aspiration', rateable_id: check_in.aspiration_id })
    - observations = observations.where('observed_at >= ?', since_date) if since_date.present?
    - observation_count = observations.count
    .d-flex.flex-column.gap-1
      - time_ago = time_ago_in_words(since_date)
      = hidden_field_tag "since_date", since_date
      = hidden_field_tag "teammate_id", teammate.id
      = main_form.submit "#{observation_count > 0 ? pluralize(observation_count, 'observation') : 'No notes'} on this since #{time_ago} ago",
                         class: "btn btn-link text-muted text-decoration-none small p-0 border-0 bg-transparent",
                         name: "save_and_view_observations_aspiration_#{check_in.aspiration_id}"
      = main_form.submit "Add Win / Challenge",
                         class: "btn btn-link text-muted text-decoration-none small p-0 border-0 bg-transparent",
                         name: "save_and_add_quick_note_aspiration_#{check_in.aspiration_id}"





