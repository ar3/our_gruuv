- content_for :title, "Kudos Points - #{@teammate.person.display_name}"

- content_for :header do
  .d-flex.align-items-center
    %h1.mb-0.me-2
      %i.bi.bi-star.me-2
      Kudos Points

- content_for :header_action do
  = render 'people/view_switcher'

- content_for :go_back_link do
  = link_to about_me_organization_company_teammate_path(organization, @teammate), class: "go-back-link" do
    %i.bi.bi-arrow-left.me-2
    Back to About Me

.row.mb-4
  .col-md-6.mb-3.mb-md-0
    .card.h-100
      .card-body.text-center
        %h2.display-6.text-primary.mb-0= @ledger.points_to_give
        %p.lead.text-muted.mb-0 Points to Give
        %small.text-muted= number_to_currency(@ledger.points_to_give_dollar_value)

  .col-md-6
    .card.h-100
      .card-body.text-center
        %h2.display-6.text-success.mb-0= @ledger.points_to_spend
        %p.lead.text-muted.mb-0 Points to Redeem
        %small.text-muted= number_to_currency(@ledger.points_to_spend_dollar_value)

.card
  .card-header
    %h5.mb-0
      %i.bi.bi-clock-history.me-2
      Transaction History

  .card-body
    - if @transactions.any?
      .table-responsive
        %table.table.table-hover.mb-0
          %thead
            %tr
              %th Date
              %th Type
              %th Description
              %th.text-end To Give
              %th.text-end To Spend
          %tbody
            - @transactions.each do |transaction|
              %tr
                %td
                  = transaction.created_at.strftime("%b %d, %Y")
                  %br
                  %small.text-muted= transaction.created_at.strftime("%I:%M %p")
                %td
                  %span.badge.bg-secondary= transaction.transaction_type_display
                %td= kudos_transaction_description(transaction)
                %td.text-end{class: kudos_delta_class(transaction.points_to_give_delta)}
                  = kudos_format_delta(transaction.points_to_give_delta)
                %td.text-end{class: kudos_delta_class(transaction.points_to_spend_delta)}
                  = kudos_format_delta(transaction.points_to_spend_delta)

      - if @pagy.pages > 1
        .mt-3
          == pagy_nav(@pagy)
    - else
      .text-center.py-4
        %i.bi.bi-inbox.fs-1.text-muted
        %p.text-muted.mt-2 No transactions yet.
        %p.small.text-muted Kudos activity for this teammate will appear here.
