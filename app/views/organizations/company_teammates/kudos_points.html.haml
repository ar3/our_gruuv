- content_for :title, "#{company_label_plural('kudos_point', 'Kudos Point')} - #{@teammate.person.display_name}"

- content_for :header do
  .d-flex.align-items-center
    %h1.mb-0.me-2
      = @teammate.person.display_name
      %span.text-muted.ms-2
        %i.bi.bi-star.me-1
        = company_label_plural('kudos_point', 'Kudos Point')

- content_for :header_action do
  = render 'people/view_switcher'

- if @kudos_return_url.present? && @kudos_return_text.present?
  - content_for :go_back_link do
    = link_to @kudos_return_url, class: "go-back-link" do
      %i.bi.bi-arrow-left.me-2
      = @kudos_return_text

.row.mb-4
  .col-md-6.mb-3.mb-md-0
    .card.h-100
      .card-body.text-center
        %h2.display-6.text-warning.mb-0= @ledger.points_to_give
        %p.lead.text-muted.mb-0= "#{company_label_plural('kudos_point', 'Kudos Point')} to Give"

  .col-md-6
    .card.h-100
      .card-body.text-center
        %h2.display-6.text-success.mb-0= @ledger.points_to_spend
        %p.lead.text-muted.mb-0= "#{company_label_plural('kudos_point', 'Kudos Point')} to Redeem"

.card
  .card-header
    %h5.mb-0
      %i.bi.bi-clock-history.me-2
      Transaction History

  .card-body
    - if @transactions.any?
      .table-responsive
        %table.table.table-hover.mb-0
          %thead
            %tr
              %th Date
              %th Type
              %th Description
              %th.text-end To Give
              %th.text-end To Spend
          %tbody
            - @transactions.each do |transaction|
              %tr
                %td
                  = transaction.created_at.strftime("%b %d, %Y")
                  %br
                  %small.text-muted= transaction.created_at.strftime("%I:%M %p")
                %td
                  %span.badge.bg-secondary= transaction.transaction_type_display
                %td= kudos_transaction_description_link(transaction)
                %td.text-end{class: kudos_delta_class(transaction.points_to_give_delta)}
                  = kudos_format_delta(transaction.points_to_give_delta)
                %td.text-end{class: kudos_delta_class(transaction.points_to_spend_delta)}
                  = kudos_format_delta(transaction.points_to_spend_delta)

      - if @pagy.pages > 1
        .mt-3
          == pagy_nav(@pagy)
    - else
      .text-center.py-4
        %i.bi.bi-inbox.fs-1.text-muted
        %p.text-muted.mt-2 No transactions yet.
        %p.small.text-muted= "#{company_label_plural('kudos_point', 'Kudos Point')} activity for this teammate will appear here."
