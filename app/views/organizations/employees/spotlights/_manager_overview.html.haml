/ Manager Overview Spotlight
.row.justify-content-center.mb-4
  .col-lg-12
    .card.border-0.shadow-sm
      .card-body
        .row
          .col-md-8
            / Main statistics/metrics area
            .row.text-center
              .col-3
                .h3.text-primary= @spotlight_stats[:total_direct_reports]
                %small.text-muted Direct Reports
              .col-3
                .h3.text-warning= @spotlight_stats[:ready_for_finalization]
                %small.text-muted Ready to Finalize
              .col-3
                .h3.text-danger= @spotlight_stats[:needs_manager_completion]
                %small.text-muted Need Manager Input
              .col-3
                .h3.text-info= @spotlight_stats[:pending_acknowledgements]
                %small.text-muted Pending Acknowledgements
            
            / Additional breakdown sections
            .row.mt-3
              .col-md-6
                .card.bg-light.border-0
                  .card-body.py-2
                    .d-flex.justify-content-between.align-items-center
                      %small.fw-bold Check-in Status Summary
                      %small.text-muted #{@spotlight_stats[:total_check_ins]} total
                    .progress.mt-1{style: "height: 8px;"}
                      .progress-bar.bg-success{style: "width: #{@spotlight_stats[:completion_percentage]}%"}
                      .progress-bar.bg-warning{style: "width: #{@spotlight_stats[:ready_percentage]}%"}
                      .progress-bar.bg-danger{style: "width: #{@spotlight_stats[:incomplete_percentage]}%"}
                    .d-flex.justify-content-between.mt-1
                      %small.text-success Complete
                      %small.text-warning Ready
                      %small.text-danger Incomplete
              
              .col-md-6
                .card.bg-light.border-0
                  .card-body.py-2
                    .d-flex.justify-content-between.align-items-center
                      %small.fw-bold Team Health
                      %small.text-muted #{@spotlight_stats[:team_health_score]}/100
                    .progress.mt-1{style: "height: 8px;"}
                      - health_class = @spotlight_stats[:team_health_score] >= 80 ? 'bg-success' : @spotlight_stats[:team_health_score] >= 60 ? 'bg-warning' : 'bg-danger'
                      .progress-bar{class: health_class, style: "width: #{@spotlight_stats[:team_health_score]}%"}
                    %small.text-muted.mt-1 Based on check-in completion and acknowledgement rates
          
          .col-md-4
            / Action alerts or status messages
            - if @spotlight_stats[:ready_for_finalization] > 0
              .alert.alert-warning.small
                %i.bi.bi-exclamation-triangle.me-2
                %strong #{@spotlight_stats[:ready_for_finalization]} check-in#{'s' if @spotlight_stats[:ready_for_finalization] != 1} ready for finalization
            
            - if @spotlight_stats[:needs_manager_completion] > 0
              .alert.alert-danger.small
                %i.bi.bi-clock.me-2
                %strong #{@spotlight_stats[:needs_manager_completion]} check-in#{'s' if @spotlight_stats[:needs_manager_completion] != 1} need your input
            
            - if @spotlight_stats[:pending_acknowledgements] > 0
              .alert.alert-info.small
                %i.bi.bi-person-check.me-2
                %strong #{@spotlight_stats[:pending_acknowledgements]} acknowledgement#{'s' if @spotlight_stats[:pending_acknowledgements] != 1} pending
            
            - if @spotlight_stats[:total_direct_reports] == 0
              .alert.alert-secondary.small
                %i.bi.bi-info-circle.me-2
                %strong You don't have any direct reports in this organization
      
      .card-footer.bg-light
        .row.align-items-center
          .col-md-6
            %small.text-muted
              %i.bi.bi-people.me-1
              Manager View: Direct Reports Only
              - if @has_active_filters
                %br
                %i.bi.bi-funnel.me-1
                Filters: 
                - filter_parts = []
                - @current_filters.each do |filter_name, filter_value|
                  - Array(filter_value).each do |value|
                    - filter_parts << filter_display_name(filter_name, value)
                = filter_parts.join(', ')
          .col-md-6.text-end
            %small.text-muted
              %i.bi.bi-sort-down.me-1
              Sort: #{@current_sort.humanize}
              %br
              %i.bi.bi-table.me-1
              View: #{@current_view.humanize}
              %br
              %i.bi.bi-eye.me-1
              Spotlight: Manager Overview
