.container-fluid
  .row
    .col-12
      .d-flex.justify-content-between.align-items-center.mb-4
        %h1 New Employment Data Upload
        = link_to 'Back to Uploads', organization_upload_events_path(current_organization), class: 'btn btn-outline-secondary'
      
      .row
        .col-md-8
          .card
            .card-header
              %h5.card-title.mb-0 Upload XLSX File
            .card-body
              = form_with model: [current_organization.becomes(Organization), @upload_event], local: true do |form|
                .mb-3
                  = form.label :file, 'Select XLSX File', class: 'form-label'
                  = form.file_field :file, accept: '.xlsx,.xls', class: 'form-control', required: true
                  .form-text
                    Only XLSX files are supported. Maximum file size: 10MB.
                
                .mb-3
                  .alert.alert-info
                    %h6.mb-2 Expected File Format:
                    %p.mb-1
                      %strong Required columns:
                      %code email
                      and 
                      %code assignment_name
                    %p.mb-0
                      %strong Optional columns:
                      See the 
                      = link_to 'uploads index', organization_upload_events_path(current_organization)
                      for a complete list of supported headers.
                
                .d-flex.gap-2
                  = form.submit 'Upload and Preview', class: 'btn btn-primary'
                  = link_to 'Cancel', organization_upload_events_path(current_organization), class: 'btn btn-outline-secondary'
        
        .col-md-4
          .card
            .card-header
              %h5.card-title.mb-0 Upload Process
            .card-body
              %ol.mb-0
                %li
                  %strong Upload:
                  Select your XLSX file and click upload
                %li
                  %strong Preview:
                  Review the parsed data and actions that will be taken
                %li
                  %strong Process:
                  Confirm and execute the upload to create/update records
                %li
                  %strong Review:
                  View results and any errors that occurred
              
              .alert.alert-warning.mt-3
                %strong Note:
                Uploads are processed in the background. You'll be notified when complete.
